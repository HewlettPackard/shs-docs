
# Known Issues
|ID|Description|Workaround|
|:--:|:---------|:---------|
|2160777|Libfabric XRC support is non-functional in all versions of MOFED, including MOFED 24.10.|Use UCX instead of Libfabric with XRC until the root cause is identified and resolved by the Nvidia team. <br>  When using the open-source Libfabric, you must set FI\_VERBS\_PREFER\_XRC=0 for MPI jobs with 64 or more ranks to avoid core dumps.|
|3307805|cxiprof fails due to missing runtime dependencies (python-psutil and gdb) that are not automatically installed by the pycxi RPM.|Manually install the missing dependencies in the image—use pip3 install psutil or the appropriate python-* packages on SLES and install gdb via the OS package manager.|
|3298295|NCCL Send Operations Hang in GPU Post on RHEL 9.6 During Broadcast (Resolved Upstream)|This issue is caused by the GPU failing to complete writes to host-pinned network buffers on RHEL 9.6, leaving the NCCL proxy thread stuck waiting for completion signals. A fix has been merged upstream in the NVIDIA NCCL repository — please update to the latest NVIDIA NCCL releases that include PR #1942. Using the updated NCCL builds (and corresponding nccl-tests) resolves the hang; there is no backported patch for older releases, so stay current with NVIDIA’s latest. https://github.com/NVIDIA/nccl/pull/1942 |
|3298265|The SLES15 SP6 with CUDA SDK 25.5 (CUDA 12.9) and NVIDIA Driver 570.124.06 (CUDA 12.8) combination may cause runtime issues due to minor-version mismatches.|CUDA SDK 25.5 includes CUDA 12.9, but the driver only supports CUDA 12.8. NVIDIA marks this as “supported” but with known limitations, which can cause runtime instability.<br>  As a workaround, use a full CUDA 12.8 toolchain end-to-end (SDK, libraries, and driver all aligned to 12.8).<br>  Reference: https://docs.nvidia.com/deploy/cuda-compatibility/minor-version-compatibility.html|
|3279438|aws-ofi-rccl deprecated, no rocm-7 libfabric support|There is currently no official way to run libfabric with ROCm 7 / RCCL. Customers upgrading to ROCm 7 must use aws-ofi-nccl tip-of-main to enable RCCL with the CXI/libfabric provider.|
|3032601|cxiutil fails on SLES15SP6 and COS-Base-3.3 due to missing python3-docopt package|For SLES15SP6 and COS-Base 3.3, install the appropriate `docopt` package for the Python version used by `cxi`:  <br>  <br>  1. Find the Python version with `cxi` packages installed:  <br>     ```bash<br>     find /usr/lib64/. -name cxi<br>     ```  <br>  2. Check the output (e.g., `/usr/lib64/python3.11/site-packages/cxi`) to determine the Python version.  <br>  3. Install the corresponding `docopt` RPM (e.g., `python3.11-docopt`).<br>  |
|3127871|System crashed and rebooted while running iperf traffic with repeated hsn0 MTU change from (1500 ↔ 9000)|When changing MTU size with high amount of traffic can cash the kernel.|
|3082961|MR match event count failure raises abort signal|when using a standard MR with FI\_CXI\_MR\_MATCH\_EVENTS, do not force MR invalidation if match and access count reconciliation is slow. Allow reconciliation to complete naturally. Any cancelled events that occur after the invalidate condition is reached can be safely ignored, preventing an unnecessary provider abort|
|3047300|FI\_CXI\_MR\_MATCH\_EVENTS leads to MR not found during DAOS rebuild|/*mercury rpc env*/<br>  NA\_OFI\_SKIP\_DOMAIN\_OPS=1 <br>  /*CXI provider env's*/<br>  FI\_CXI\_PROV\_KEY\_CACHE=0<br>  FI\_CXI\_OPTIMIZED\_MRS=0.<br>  The symptom is a completion with error: ENTRY\_NOT\_FOUND<br>  fi\_cq\_readerr() got err: 5 (Input/output error), prov\_errno: 18 (ENTRY\_NOT\_FOUND)<br>  Right now the only workaround is to disable MR match events and disable the prov key cache by setting the above env's. The down side is this causes a performance hit. The issue is still under investigation and as we learn more we will update the WAR or have a fix in place.|
|2983849|"show cables" error caused by missing cxi driver functionnality:  ethtool -m returns netlink error: Invalid argument|The RHEL 8.6, RHEL 8.7 & SLES15 SP4 `ethtool` leads to Slingshot Topology Tool functionality issue. The `show cables` does not return correct data. For STT to function correctly, we recommend following versions of `ethtool` to be installed. For RHEL and Rocky, use `ethtool` 5.16 (ethtool-5.16-1.el9.x86\_64) and above. For SLES15SP4, use `ethtool` 5.9 (ethtool-5.9-1.31.x86\_64). NOTE: These versions of `ethtool` are not available as part of the default RHEL/SLES distributions and will need to be downloaded and installed separately.|
|2874751|fi\_pingpong, fi\_info command may fail on RHEL|Manually set the PATH and LD\_LIBRARY\_PATH to ensure proper environment setup:   <br>  <br>  export PATH=/opt/cray/libfabric/2.3.1/bin:$PATH<br>  export LD\_LIBRARY\_PATH=/opt/cray/libfabric/2.3.1/lib64:$LD\_LIBRARY\_PATH<br>  <br>  The default environment paths are not being set correctly. Although a module file exists, nothing is loading it into the environment. To resolve this, either explicitly set the paths as shown above or ensure the module is correctly loaded.<br>  <br>  Example assumes you are using Libfabric 2.3.1. Adjust the version number if using a different release.|
|2913069|cxi\_* utils failures with python-3.8 or lower|If multiple Python versions are installed on your system and the default points to a version lower than 3.9, you need to update the default to a higher version or create a symbolic link to the required version. Below is an example of how to achieve this using the update-alternatives tool:<br>  # find which python version has cxi installed<br>  find /usr/lib64/. -name cxi<br>  # example output says: /usr/lib64/./python3.9/site-packages/cxi<br>  <br>  # Add the required Python version to alternatives<br>  update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.9 1<br>  <br>  # Configure alternatives to set the preferred Python 3 version<br>  update-alternatives --config python3<br>  <br>  # Verify the updated default version<br>  python3 --version|
|2802789|Slingshot 400GB Switch: The assignment of AMA to the HSNx interface requires rebooting nodes.|For Slingshot 400GBps Switches:  <br>  <br>  All the assigned MAC addresses on node HSNx interfaces start with 02:XX:XX:XX:XX:XX<br>  If baseMacPrefix is changed to "06" HSNx AMA addresses on the nodes start with 06:XX:XX:XX:XX:XX<br>  <br>  To get AMA assigned to the HSN interfaces, it requires all the connected nodes to the switch fabric to be rebooted.|
|2724588|cxi-driver support ATS with SVA kernel interfaces sles15sp7|Due to the absence of the iommu\_v2 module in Linux kernel 6.4, ATS has been disabled by default for SLES15SP6 and COS-Base 3.2. This will be resolved in upcoming releases.|
|2215092|libfabric MR cache with memhooks may deadlock with CUDA and ROCM/ROCR|When doing RDMA with device memory, memhooks cannot be used as the system memory monitor. Either userfaultfd or HPE provided kdreg2 need to be used. The following environment variables are used to select these two memory monitors respectively.<br>  FI\_MR\_CACHE\_MONITOR=userfaultfd<br>  FI\_MR\_CACHE\_MONITOR=kdreg2|
|2191115|cxil\_destroy\_svc fails with EBUSY after all processes have exited|CXI Services can only be deleted once all associated NIC resources are released. In some cases, pending network operations or cleanup tasks may still be using these resources, which can temporarily prevent the deletion of a CXI Service. WLMs may be configured to extend the amount of time they attempt to free a CXI Service, or the clean\_cxi\_services.sh script provided by ATOM can be used.|
